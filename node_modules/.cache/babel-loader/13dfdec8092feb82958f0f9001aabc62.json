{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _createForOfIteratorHelper from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import swal from'sweetalert';import Button from\"../../../../Components/Button/Button\";import Input from\"../../../../Components/Input/Input\";import\"./ResetPassword.css\";import{email,required}from\"../../../../util/validators\";import Footer from'../../../../Components/MainComponents/Footer/Footer';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={ResetForm:{email:{value:\"\",valid:false,touched:false,validators:[required,email]},formIsValid:false}};_this.resetPasswordHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event,authData){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();fetch(process.env.BACKEND_URL+'/auth/reset-password',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:authData.email})}).then(function(res){return res.json();}).then(function(result){swal({title:\"Send email!\",text:\"Winkel sent reset password email for you.Please check your email\",icon:\"success\",buttons:{text:'OK'}});_this.props.history.push('/');}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.inputChangeHandler=function(input,value){_this.setState(function(prevState){var isValid=true;var _iterator=_createForOfIteratorHelper(prevState.ResetForm[input].validators),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var validator=_step.value;isValid=isValid&&validator(value);}}catch(err){_iterator.e(err);}finally{_iterator.f();}var updatedForm=_objectSpread(_objectSpread({},prevState.ResetForm),{},_defineProperty({},input,_objectSpread(_objectSpread({},prevState.ResetForm[input]),{},{valid:isValid,value:value})));var formIsValid=true;for(var inputName in updatedForm){formIsValid=formIsValid&&updatedForm[inputName].valid;}return{ResetForm:updatedForm,formIsValid:formIsValid};});};_this.inputBlurHandler=function(input){_this.setState(function(prevState){return{ResetForm:_objectSpread(_objectSpread({},prevState.ResetForm),{},_defineProperty({},input,_objectSpread(_objectSpread({},prevState.ResetForm[input]),{},{touched:true})))};});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;localStorage.removeItem(\"page\");return/*#__PURE__*/React.createElement(\"div\",{className:\"loginSection\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6\",style:{display:'block',margin:'auto'}},/*#__PURE__*/React.createElement(\"div\",{className:\"login-form\"},/*#__PURE__*/React.createElement(\"a\",{\"aria-current\":\"page\",className:\"navbar-brand login\",href:\"/\"},\"Winkel\"),/*#__PURE__*/React.createElement(\"h2\",{className:\"loginTitle\"},\"Login\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this2.resetPasswordHandler(e,{email:_this2.state.ResetForm.email.value});}},/*#__PURE__*/React.createElement(Input,{id:\"email\",textLabel:\"Username or email address\",type:\"email\",onChange:this.inputChangeHandler,onBlur:this.inputBlurHandler.bind(this,\"email\"),value:this.state.ResetForm[\"email\"].value,valid:this.state.ResetForm[\"email\"].valid,touched:this.state.ResetForm[\"email\"].touched}),/*#__PURE__*/React.createElement(Button,{auth:\"SEND EMAILL TO RESET PASSWORD\"})))))),/*#__PURE__*/React.createElement(Footer,null));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ecommerce/front-end/src/Containers/Auth/ForgetPassword/ResetPassword/ResetPassword.js"],"names":["React","Component","swal","Button","Input","email","required","Footer","Login","state","ResetForm","value","valid","touched","validators","formIsValid","resetPasswordHandler","event","authData","preventDefault","fetch","process","env","BACKEND_URL","method","headers","body","JSON","stringify","then","res","json","result","title","text","icon","buttons","props","history","push","catch","err","console","log","inputChangeHandler","input","setState","prevState","isValid","validator","updatedForm","inputName","inputBlurHandler","localStorage","removeItem","display","margin","e","bind"],"mappings":"ggDAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,IAAP,KAAiB,YAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sCAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oCAAlB,CACA,MAAO,qBAAP,CACA,OAASC,KAAT,CAAeC,QAAf,KAA+B,6BAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,qDAAnB,C,GAEMC,CAAAA,K,uTACJC,K,CAAQ,CACNC,SAAS,CAAE,CACTL,KAAK,CAAE,CACLM,KAAK,CAAE,EADF,CAELC,KAAK,CAAE,KAFF,CAGLC,OAAO,CAAE,KAHJ,CAILC,UAAU,CAAE,CAACR,QAAD,CAAWD,KAAX,CAJP,CADE,CAOTU,WAAW,CAAE,KAPJ,CADL,C,OAYRC,oB,0FAAqB,iBAAMC,KAAN,CAAYC,QAAZ,kHACnBD,KAAK,CAACE,cAAN,GACAC,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,WAAZ,CAAwB,sBAAzB,CAAgD,CACnDC,MAAM,CAAC,MAD4C,CAEnDC,OAAO,CAAC,CACN,eAAe,kBADT,CAF2C,CAKnDC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAe,CAACvB,KAAK,CAACa,QAAQ,CAACb,KAAhB,CAAf,CAL8C,CAAhD,CAAL,CAOCwB,IAPD,CAOM,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EAPT,EAQGF,IARH,CAQQ,SAAAG,MAAM,CAAE,CACZ9B,IAAI,CAAC,CACH+B,KAAK,CAAE,aADJ,CAEHC,IAAI,CAAE,kEAFH,CAGHC,IAAI,CAAE,SAHH,CAIHC,OAAO,CAAC,CACNF,IAAI,CAAC,IADC,CAJL,CAAD,CAAJ,CAQA,MAAKG,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CAlBH,EAmBCC,KAnBD,CAmBO,SAAAC,GAAG,QAAEC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAF,EAnBV,EAFmB,sD,yEAuBrBG,kB,CAAqB,SAACC,KAAD,CAAQlC,KAAR,CAAkB,CACrC,MAAKmC,QAAL,CAAc,SAACC,SAAD,CAAe,CAC3B,GAAIC,CAAAA,OAAO,CAAG,IAAd,CAD2B,yCAEHD,SAAS,CAACrC,SAAV,CAAoBmC,KAApB,EAA2B/B,UAFxB,YAE3B,+CAA+D,IAApDmC,CAAAA,SAAoD,aAC7DD,OAAO,CAAGA,OAAO,EAAIC,SAAS,CAACtC,KAAD,CAA9B,CACD,CAJ0B,qDAK3B,GAAMuC,CAAAA,WAAW,gCACZH,SAAS,CAACrC,SADE,wBAEdmC,KAFc,gCAGVE,SAAS,CAACrC,SAAV,CAAoBmC,KAApB,CAHU,MAIbjC,KAAK,CAAEoC,OAJM,CAKbrC,KAAK,CAAEA,KALM,IAAjB,CAQA,GAAII,CAAAA,WAAW,CAAG,IAAlB,CACA,IAAK,GAAMoC,CAAAA,SAAX,GAAwBD,CAAAA,WAAxB,CAAqC,CACnCnC,WAAW,CAAGA,WAAW,EAAImC,WAAW,CAACC,SAAD,CAAX,CAAuBvC,KAApD,CACD,CACD,MAAO,CACLF,SAAS,CAAEwC,WADN,CAELnC,WAAW,CAAEA,WAFR,CAAP,CAID,CArBD,EAsBD,C,OAEDqC,gB,CAAmB,SAACP,KAAD,CAAW,CAC5B,MAAKC,QAAL,CAAc,SAACC,SAAD,CAAe,CAC3B,MAAO,CACLrC,SAAS,gCACJqC,SAAS,CAACrC,SADN,wBAENmC,KAFM,gCAGFE,SAAS,CAACrC,SAAV,CAAoBmC,KAApB,CAHE,MAILhC,OAAO,CAAE,IAJJ,IADJ,CAAP,CASD,CAVD,EAWD,C,wEACQ,iBACPwC,YAAY,CAACC,UAAb,CAAwB,MAAxB,EACA,mBACE,2BAAK,SAAS,CAAC,cAAf,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAACC,OAAO,CAAC,OAAT,CAAiBC,MAAM,CAAC,MAAxB,CAAjC,eACE,2BAAK,SAAS,CAAC,YAAf,eACA,yBAAG,eAAa,MAAhB,CAAuB,SAAS,CAAC,oBAAjC,CAAsD,IAAI,CAAC,GAA3D,WADA,cAEE,0BAAI,SAAS,CAAC,YAAd,UAFF,cAGE,4BAAO,QAAQ,CAAE,kBAACC,CAAD,QAAM,CAAA,MAAI,CAACzC,oBAAL,CAA0ByC,CAA1B,CAA6B,CAC9CpD,KAAK,CAAE,MAAI,CAACI,KAAL,CAAWC,SAAX,CAAqBL,KAArB,CAA2BM,KADY,CAA7B,CAAN,EAAjB,eAEE,oBAAC,KAAD,EACE,EAAE,CAAC,OADL,CAEE,SAAS,CAAC,2BAFZ,CAGE,IAAI,CAAC,OAHP,CAIE,QAAQ,CAAE,KAAKiC,kBAJjB,CAKE,MAAM,CAAE,KAAKQ,gBAAL,CAAsBM,IAAtB,CAA2B,IAA3B,CAAiC,OAAjC,CALV,CAME,KAAK,CAAE,KAAKjD,KAAL,CAAWC,SAAX,CAAqB,OAArB,EAA8BC,KANvC,CAOE,KAAK,CAAE,KAAKF,KAAL,CAAWC,SAAX,CAAqB,OAArB,EAA8BE,KAPvC,CAQE,OAAO,CAAE,KAAKH,KAAL,CAAWC,SAAX,CAAqB,OAArB,EAA8BG,OARzC,EAFF,cAaE,oBAAC,MAAD,EAAQ,IAAI,CAAC,+BAAb,EAbF,CAHF,CADF,CADF,CADF,CADF,cA0BE,oBAAC,MAAD,MA1BF,CADF,CA8BD,C,mBA1GiBZ,S,EA4GpB,cAAeO,CAAAA,KAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport swal from 'sweetalert';\r\nimport Button from \"../../../../Components/Button/Button\";\r\nimport Input from \"../../../../Components/Input/Input\";\r\nimport \"./ResetPassword.css\";\r\nimport { email,required } from \"../../../../util/validators\";\r\nimport Footer from '../../../../Components/MainComponents/Footer/Footer'\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    ResetForm: {\r\n      email: {\r\n        value: \"\",\r\n        valid: false,\r\n        touched: false,\r\n        validators: [required, email],\r\n      },\r\n      formIsValid: false,\r\n    },\r\n  };\r\n\r\n  resetPasswordHandler=async(event,authData)=>{\r\n    event.preventDefault();\r\n    fetch(process.env.BACKEND_URL+'/auth/reset-password',{\r\n      method:'POST',\r\n      headers:{\r\n        'Content-Type':'application/json'\r\n            },\r\n      body:JSON.stringify({email:authData.email}),\r\n    })\r\n    .then(res=>res.json())\r\n      .then(result=>{\r\n        swal({\r\n          title: \"Send email!\",\r\n          text: \"Winkel sent reset password email for you.Please check your email\",\r\n          icon: \"success\",\r\n          buttons:{\r\n            text:'OK'\r\n          }\r\n        })\r\n        this.props.history.push('/')\r\n      })\r\n    .catch(err=>console.log(err))\r\n  }\r\n  inputChangeHandler = (input, value) => {\r\n    this.setState((prevState) => {\r\n      let isValid = true;\r\n      for (const validator of prevState.ResetForm[input].validators) {\r\n        isValid = isValid && validator(value);\r\n      }\r\n      const updatedForm = {\r\n        ...prevState.ResetForm,\r\n        [input]: {\r\n          ...prevState.ResetForm[input],\r\n          valid: isValid,\r\n          value: value,\r\n        },\r\n      };\r\n      let formIsValid = true;\r\n      for (const inputName in updatedForm) {\r\n        formIsValid = formIsValid && updatedForm[inputName].valid;\r\n      }\r\n      return {\r\n        ResetForm: updatedForm,\r\n        formIsValid: formIsValid,\r\n      };\r\n    });\r\n  };\r\n\r\n  inputBlurHandler = (input) => {\r\n    this.setState((prevState) => {\r\n      return {\r\n        ResetForm: {\r\n          ...prevState.ResetForm,\r\n          [input]: {\r\n            ...prevState.ResetForm[input],\r\n            touched: true,\r\n          },\r\n        },\r\n      };\r\n    });\r\n  };\r\n  render() {\r\n    localStorage.removeItem(\"page\");\r\n    return (\r\n      <div className=\"loginSection\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-6\" style={{display:'block',margin:'auto'}}>\r\n              <div className=\"login-form\">\r\n              <a aria-current=\"page\" className=\"navbar-brand login\" href=\"/\">Winkel</a>\r\n                <h2 className=\"loginTitle\">Login</h2>\r\n                <form  onSubmit={(e) =>this.resetPasswordHandler(e, {\r\n                      email: this.state.ResetForm.email.value})}>\r\n                  <Input\r\n                    id=\"email\"\r\n                    textLabel=\"Username or email address\"\r\n                    type=\"email\"\r\n                    onChange={this.inputChangeHandler}\r\n                    onBlur={this.inputBlurHandler.bind(this, \"email\")}\r\n                    value={this.state.ResetForm[\"email\"].value}\r\n                    valid={this.state.ResetForm[\"email\"].valid}\r\n                    touched={this.state.ResetForm[\"email\"].touched}\r\n                  ></Input>\r\n              \r\n                  <Button auth=\"SEND EMAILL TO RESET PASSWORD\"></Button>        \r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}