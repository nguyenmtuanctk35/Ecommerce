{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _objectSpread from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ecommerce\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'./BlockInfor2.css';import Block from'../../BlockInfor/BlockInfor';var BlockInfor2=function BlockInfor2(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pages=_useState2[0],setPages=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),fetched=_useState4[0],setFetched=_useState4[1];useEffect(function(){loadPosts();},[]);var loadPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(process.env.BACKEND_URL+'/products/productsHomePage').then(function(res){if(res.status!==200){throw new Error('Failed to fetch!');}return res.json();}).then(function(resData){var fetchedProducts=[];for(var key in resData.products){fetchedProducts.push(_objectSpread(_objectSpread({},resData.products[key]),{},{id:resData.products[key]._id}));setPages(fetchedProducts);}}).then(function(result){setFetched(true);}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function loadPosts(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"section\",{className:\"ftco-section bg-light\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center mb-3 pb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 heading-section text-center\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"mb-4\"},\"Best Sellers\"),/*#__PURE__*/React.createElement(\"p\",null,\"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},pages.map(function(el){return/*#__PURE__*/React.createElement(Block,{key:el.id,imgSrc:el.thumbnail_url,link:el.id,title:el.name,price:el.list_price,discountPrice:el.price});}))));};export default BlockInfor2;","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ecommerce/front-end/src/Components/IndexComponents/BlockInfor2/BlockInfor2.js"],"names":["React","useEffect","useState","Block","BlockInfor2","props","pages","setPages","fetched","setFetched","loadPosts","fetch","process","env","BACKEND_URL","then","res","status","Error","json","resData","fetchedProducts","key","products","push","id","_id","result","catch","err","console","log","map","el","thumbnail_url","name","list_price","price"],"mappings":"oqBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,CACA,MAAO,mBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,6BAAlB,CAEA,GAAMC,CAAAA,WAAW,CAAC,QAAZA,CAAAA,WAAY,CAAAC,KAAK,CAAE,eACGH,QAAQ,CAAC,EAAD,CADX,wCAChBI,KADgB,eACTC,QADS,8BAEIL,QAAQ,CAAC,KAAD,CAFZ,yCAEhBM,OAFgB,eAERC,UAFQ,eAGrBR,SAAS,CAAC,UAAI,CACVS,SAAS,GACZ,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAMA,CAAAA,SAAS,0FAAE,yJACTC,CAAAA,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,WAAZ,CAAwB,4BAAzB,CAAL,CACDC,IADC,CACI,SAAAC,GAAG,CAAE,CACP,GAAGA,GAAG,CAACC,MAAJ,GAAc,GAAjB,CAAqB,CACjB,KAAM,IAAIC,CAAAA,KAAJ,CAAU,kBAAV,CAAN,CACH,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CAEL,CAPG,EAQHJ,IARG,CAQE,SAAAK,OAAO,CAAE,CACP,GAAIC,CAAAA,eAAe,CAAC,EAApB,CACJ,IAAI,GAAIC,CAAAA,GAAR,GAAeF,CAAAA,OAAO,CAACG,QAAvB,CAAgC,CAC5BF,eAAe,CAACG,IAAhB,gCACOJ,OAAO,CAACG,QAAR,CAAiBD,GAAjB,CADP,MAEIG,EAAE,CAACL,OAAO,CAACG,QAAR,CAAiBD,GAAjB,EAAsBI,GAF7B,IAKFnB,QAAQ,CAACc,eAAD,CAAR,CACD,CACJ,CAlBG,EAmBHN,IAnBG,CAmBE,SAAAY,MAAM,CAAE,CACVlB,UAAU,CAAC,IAAD,CAAV,CACH,CArBG,EAsBDmB,KAtBC,CAsBK,SAAAC,GAAG,QAAEC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAF,EAtBR,CADS,uDAAF,kBAATnB,CAAAA,SAAS,0CAAf,CAyBA,mBACI,+BAAS,SAAS,CAAC,uBAAnB,eACA,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,sCAAf,eACE,2BAAK,SAAS,CAAC,uCAAf,eACE,0BAAI,SAAS,CAAC,MAAd,iBADF,cAEE,uHAFF,CADF,CADF,CADA,cASA,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,KAAf,EACOJ,KAAK,CAAC0B,GAAN,CAAU,SAAAC,EAAE,qBACJ,oBAAC,KAAD,EAAO,GAAG,CAAEA,EAAE,CAACR,EAAf,CAAmB,MAAM,CAAEQ,EAAE,CAACC,aAA9B,CAA6C,IAAI,CAAED,EAAE,CAACR,EAAtD,CACP,KAAK,CAAEQ,EAAE,CAACE,IADH,CAEP,KAAK,CAAEF,EAAE,CAACG,UAFH,CAGP,aAAa,CAAEH,EAAE,CAACI,KAHX,EADI,EAAZ,CADP,CADJ,CATA,CADJ,CAuBG,CAvDP,CAyDA,cAAejC,CAAAA,WAAf","sourcesContent":["import React, { useEffect,useState } from 'react'\r\nimport './BlockInfor2.css'\r\nimport Block from '../../BlockInfor/BlockInfor'\r\n\r\nconst BlockInfor2=props=>{\r\n  const [pages, setPages] = useState([])\r\n  const [fetched,setFetched]=useState(false)\r\n    useEffect(()=>{\r\n        loadPosts()\r\n    },[])\r\n\r\n    const loadPosts =async () => {\r\n      await fetch(process.env.BACKEND_URL+'/products/productsHomePage')\r\n          .then(res=>{\r\n              if(res.status !==200){\r\n                  throw new Error('Failed to fetch!')\r\n              }\r\n              return res.json()\r\n          \r\n        })\r\n        .then(resData=>{\r\n                let fetchedProducts=[];\r\n            for(let key in resData.products){\r\n                fetchedProducts.push({\r\n                    ...resData.products[key],\r\n                    id:resData.products[key]._id,\r\n                })\r\n              \r\n              setPages(fetchedProducts)\r\n            }  \r\n        })\r\n        .then(result=>{\r\n            setFetched(true)\r\n        })\r\n          .catch(err=>console.log(err));\r\n      };\r\n    return(\r\n        <section className=\"ftco-section bg-light\">\r\n        <div className=\"container\">\r\n          <div className=\"row justify-content-center mb-3 pb-3\">\r\n            <div className=\"col-md-12 heading-section text-center\">\r\n              <h2 className=\"mb-4\">Best Sellers</h2>\r\n              <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia</p>\r\n            </div>\r\n          </div>   \t\t\r\n        </div>\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                  {pages.map(el=>(\r\n                           <Block key={el.id} imgSrc={el.thumbnail_url} link={el.id}\r\n                    title={el.name}\r\n                    price={el.list_price}\r\n                    discountPrice={el.price} \r\n                    ></Block>              \r\n                ))}\r\n                      \r\n                      </div>\r\n              </div>\r\n      </section>\r\n    ) }\r\n\r\nexport default BlockInfor2"]},"metadata":{},"sourceType":"module"}